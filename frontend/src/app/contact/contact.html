<header class="header">
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <img src="assets/logo.png" alt="Stocki" class="logo-img">
        <span class="logo-text">Stocki</span>
      </div>
      <div class="nav-menu">
        <a routerLink="/accueil" class="nav-link">Accueil</a>
        <a href="javascript:void(0)" class="nav-link" (click)="openAuthModal()">Stocki</a>
        <a routerLink="/contact" class="nav-link active">Contact</a>
      </div>
    </div>
  </nav>
</header>

<main class="contact-page">
  <section class="contact-hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">Contactez-nous</h1>
        <p class="hero-description">
          Notre √©quipe est l√† pour vous accompagner dans la gestion de votre logistique. 
          N'h√©sitez pas √† nous contacter pour toute question.
        </p>
      </div>
    </div>
  </section>

  <section class="contact-section">
    <div class="container">
      <div class="contact-grid">
        <div class="contact-form-container">
          <h2>Envoyez-nous un message</h2>
          <form class="contact-form" (ngSubmit)="onSubmit()" #contactForm="ngForm">
            <div class="form-group">
              <label for="name">Nom complet *</label>
              <input 
                type="text" 
                id="name" 
                name="name" 
                required 
                [(ngModel)]="contactData.name"
                placeholder="Votre nom complet">
            </div>
            <div class="form-group">
              <label for="email">Email *</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required 
                [(ngModel)]="contactData.email"
                placeholder="votre@email.com">
            </div>
            <div class="form-group">
              <label for="company">Entreprise</label>
              <input 
                type="text" 
                id="company" 
                name="company" 
                [(ngModel)]="contactData.company"
                placeholder="Nom de votre entreprise">
            </div>
            <div class="form-group">
              <label for="subject">Sujet *</label>
              <select id="subject" name="subject" required [(ngModel)]="contactData.subject">
                <option value="">S√©lectionnez un sujet</option>
                <option value="demo">Demande de d√©mo</option>
                <option value="support">Support technique</option>
                <option value="partnership">Partenariat</option>
                <option value="other">Autre</option>
              </select>
            </div>
            <div class="form-group">
              <label for="message">Message *</label>
              <textarea 
                id="message" 
                name="message" 
                rows="6" 
                required 
                [(ngModel)]="contactData.message"
                placeholder="D√©crivez votre demande..."></textarea>
            </div>
            <button type="submit" class="submit-btn" [disabled]="contactLoading">
              {{ contactLoading ? 'Envoi en cours...' : 'Envoyer le message' }}
            </button>

            <div *ngIf="contactSuccessMessage" class="success-message">
              {{ contactSuccessMessage }}
            </div>

            <div *ngIf="contactErrorMessage" class="error-message">
              {{ contactErrorMessage }}
            </div>
          </form>
        </div>

        <div class="contact-info">
          <h2>Nos coordonn√©es</h2>
          <div class="contact-method">
            <div class="contact-icon">üìß</div>
            <div class="contact-details">
              <h3>Email</h3>
              <p>contact@stocki.tn</p>
              <p>support@stocki.tn</p>
            </div>
          </div>
          <div class="contact-method">
            <div class="contact-icon">üìû</div>
            <div class="contact-details">
              <h3>T√©l√©phone</h3>
              <p>+216 70 000 000</p>
              <p>Lun - Ven: 9h00 - 18h00</p>
            </div>
          </div>
          <div class="contact-method">
            <div class="contact-icon">üìç</div>
            <div class="contact-details">
              <h3>Adresse</h3>
              <p>Centre Urbain Nord</p>
              <p>1082 Tunis, Tunisie</p>
            </div>
          </div>
          <div class="social-links">
            <h3>Suivez-nous</h3>
            <div class="social-icons">
              <a href="#" class="social-link">üìò</a>
              <a href="#" class="social-link">üì∑</a>
              <a href="#" class="social-link">üíº</a>
              <a href="#" class="social-link">üê¶</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="faq-section">
    <div class="container">
      <h2>Questions fr√©quentes</h2>
      <div class="faq-grid">
        <div class="faq-item">
          <h3>Comment d√©marrer avec Stocki ?</h3>
          <p>Cr√©ez votre compte en quelques minutes et b√©n√©ficiez de notre essai gratuit de 14 jours sans engagement.</p>
        </div>
        <div class="faq-item">
          <h3>Quels transporteurs sont support√©s ?</h3>
          <p>Nous int√©grons les principaux transporteurs tunisiens et internationaux pour un suivi unifi√© de vos colis.</p>
        </div>
        <div class="faq-item">
          <h3>Puis-je utiliser Stocki sur mobile ?</h3>
          <p>Oui, notre application mobile est disponible sur iOS et Android pour g√©rer votre stock o√π que vous soyez.</p>
        </div>
        <div class="faq-item">
          <h3>Quel est le d√©lai de mise en place ?</h3>
          <p>La configuration initiale prend moins de 24 heures. Notre √©quipe vous accompagne pendant tout le processus.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal d'authentification principal -->
  <div class="auth-modal-overlay" *ngIf="showAuthModal" (click)="closeAuthModal()">
    <div class="auth-modal-content" (click)="$event.stopPropagation()">
      <button class="close-auth-modal" (click)="closeAuthModal()">&times;</button>
      
      <div class="auth-tab" *ngIf="showLoginTab">
        <h2>Connexion</h2>
        <form class="auth-form" (ngSubmit)="onLogin()">
          <div class="form-group">
            <input 
              type="email" 
              placeholder="Email" 
              [(ngModel)]="loginData.email"
              name="loginEmail"
              required
              class="auth-input">
          </div>
          <div class="form-group">
            <input 
              type="password" 
              placeholder="Mot de passe" 
              [(ngModel)]="loginData.password"
              name="loginPassword"
              required
              class="auth-input">
          </div>
          <button type="submit" class="auth-btn login-btn" [disabled]="authLoading">
            {{ authLoading ? 'Connexion...' : 'Se connecter' }}
          </button>
          
          <div *ngIf="authErrorMessage" class="error-message">
            {{ authErrorMessage }}
          </div>
          <div *ngIf="authSuccessMessage" class="success-message">
            {{ authSuccessMessage }}
          </div>
          <div *ngIf="authLoading" class="loading">
            Connexion en cours...
          </div>
        </form>
        <div class="auth-switch">
          <p>Pas encore de compte? <a href="javascript:void(0)" (click)="showRegister()">S'inscrire</a></p>
        </div>
      </div>

      <div class="auth-tab" *ngIf="!showLoginTab">
        <h2>Inscription</h2>
        <form class="auth-form" (ngSubmit)="onRegister()">
          <div class="form-group">
            <input 
              type="text" 
              placeholder="Nom complet" 
              [(ngModel)]="registerData.name"
              name="registerName"
              required
              class="auth-input">
          </div>
          <div class="form-group">
            <input 
              type="email" 
              placeholder="Email" 
              [(ngModel)]="registerData.email"
              name="registerEmail"
              required
              class="auth-input">
          </div>
          <div class="form-group">
            <input 
              type="password" 
              placeholder="Mot de passe" 
              [(ngModel)]="registerData.password"
              name="registerPassword"
              required
              class="auth-input">
          </div>
          <div class="form-group">
            <input 
              type="password" 
              placeholder="Confirmer le mot de passe" 
              [(ngModel)]="registerData.confirmPassword"
              name="registerConfirmPassword"
              required
              class="auth-input">
          </div>
          <button type="submit" class="auth-btn register-btn" [disabled]="authLoading">
            {{ authLoading ? 'Inscription...' : 'S\'inscrire' }}
          </button>
          
          <!-- Message de succ√®s pour l'inscription -->
          <div *ngIf="authSuccessMessage && !showLoginTab" class="success-message">
            {{ authSuccessMessage }}
          </div>
          
          <div *ngIf="authErrorMessage" class="error-message">
            {{ authErrorMessage }}
          </div>
          
          <div *ngIf="authLoading" class="loading">
            Cr√©ation du compte...
          </div>
        </form>
        <div class="auth-switch">
          <p>D√©j√† un compte? <a href="javascript:void(0)" (click)="showLogin()">Se connecter</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de v√©rification 2FA -->
  <div class="auth-modal-overlay" *ngIf="show2FAModal" (click)="closeAuthModal()">
    <div class="auth-modal-content" (click)="$event.stopPropagation()">
      <button class="close-auth-modal" (click)="closeAuthModal()">&times;</button>
      <div class="auth-tab">
        <h2>V√©rification de s√©curit√©</h2>
        <p class="twofa-instructions">
          Un code de s√©curit√© a √©t√© envoy√© √† votre adresse email.
          Veuillez le saisir ci-dessous pour finaliser votre connexion.
        </p>
        <form class="auth-form" (ngSubmit)="onVerify2FA()">
          <div class="form-group">
            <input 
              type="text" 
              placeholder="Code de s√©curit√© √† 6 chiffres" 
              [(ngModel)]="verificationData.code"
              name="securityCode"
              maxlength="6"
              pattern="[0-9]{6}"
              class="auth-input code-input"
              required>
          </div>
          <button type="submit" class="auth-btn login-btn">V√©rifier et se connecter</button>
          <div class="resend-link">
            <p>Vous n'avez pas re√ßu le code ?</p>
            <a href="javascript:void(0)" (click)="onResend2FA()">Renvoyer le code</a>
          </div>
          <div *ngIf="authErrorMessage" class="error-message">
            {{ authErrorMessage }}
          </div>
          <div *ngIf="authSuccessMessage" class="success-message">
            {{ authSuccessMessage }}
          </div>
          <div *ngIf="authLoading" class="loading">
            V√©rification en cours...
          </div>
        </form>
      </div>
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <div class="logo">
          <span class="logo-text">Stocki</span>
        </div>
        <p class="footer-description">
          La solution tout-en-un pour la gestion de stock et le suivi de colis.
        </p>
      </div>
      <div class="footer-section">
        <h4>Produit</h4>
        <a routerLink="/fonctionnalites" class="footer-link">Fonctionnalit√©s</a>
        <a routerLink="/tarifs" class="footer-link">Tarifs</a>
        <a href="#" class="footer-link">API</a>
      </div>
      <div class="footer-section">
        <h4>Entreprise</h4>
        <a routerLink="/about" class="footer-link">√Ä propos</a>
        <a href="#" class="footer-link">Blog</a>
        <a href="#" class="footer-link">Carri√®res</a>
      </div>
      <div class="footer-section">
        <h4>Support</h4>
        <a href="#" class="footer-link">Centre d'aide</a>
        <a routerLink="/contact" class="footer-link">Contact</a>
        <a href="#" class="footer-link">Status</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Stocki. Tous droits r√©serv√©s.</p>
    </div>
  </div>
</footer>